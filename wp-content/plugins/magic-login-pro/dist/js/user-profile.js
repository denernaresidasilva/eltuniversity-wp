!function(){var e;(e=jQuery)(document).ready(function(){e("#disable_magic_login").on("change",function(){e("#disable_magic_login").is(":checked")?e(".generate-magic-login").hide():e(".generate-magic-login").show()}),e("#create_new_magic_login").on("click",function(){e.post(magic_login_user_profile_object.ajax_url,{action:"magic_login_create_login_link_for_user",nonce:magic_login_user_profile_object.nonce,user_id:e(this).val()},function(i){if(void 0!==i.success)if(i.success){const n=i.data.link,o=i.data.qr_url;e("#magic_login_user_link").val(n),e("#magic_login_user_link_wrapper").show(),o&&(e("#magic_login_user_qr_img").attr("src",o),e("#magic_login_user_qr_wrapper").show()),e("#magic-login-user-profile-ajax-msg").hide()}else{let n=e("</p>");n.append(i.data);let o=e('<div class="notice inline notice-error is-dismissible"></div>');e("#magic-login-user-profile-ajax-msg").html(o.append(n)),e("#magic_login_user_link_wrapper").hide(),e("#magic-login-user-profile-ajax-msg").show()}})}),document.querySelector("#magic_login_user_link").addEventListener("click",function(e){const i=document.querySelector("#magic_login_user_link");i.focus(),i.select(),document.execCommand("copy")})}),e(document).ready(function(){e("#reset_magic_login_user_token").on("click",function(){const i=e(this).val();e.post(magic_login_user_profile_object.ajax_url,{action:"reset_user_magic_login_tokens",nonce:magic_login_user_profile_object.nonce,user_id:i},function(i){i.success?e("#magic_login_reset_msg").text(i.data).css("color","green").show():e("#magic_login_reset_msg").text(i.data).css("color","red").show(),setTimeout(function(){e("#magic_login_reset_msg").fadeOut()},5e3)})}),e("#send_magic_login_link_to_user").on("click",function(){const i=e("#magic_login_user_link").val(),n=e("#create_new_magic_login").val();i?(e("#magic_login_send_msg").text(magic_login_user_profile_object.i18n_sending).css("color","black").show(),e.post(magic_login_user_profile_object.ajax_url,{action:"magic_login_send_link_to_user",nonce:magic_login_user_profile_object.nonce,user_id:n,login_link:i},function(i){i.success?e("#magic_login_send_msg").text(i.data).css("color","green").show():e("#magic_login_send_msg").text(i.data).css("color","red").show(),setTimeout(function(){e("#magic_login_send_msg").fadeOut()},5e3)})):e("#magic_login_send_msg").text(magic_login_user_profile_object.i18n_no_link).css("color","red").show()})})}();