!function(){var e={577:function(){window.magicLoginAjaxEnabled=!0,function(e){function a(e){if(e.find(".magic-login-captcha-wrapper").length){try{var a="undefined"!==typeof grecaptcha&&"function"===typeof grecaptcha.getResponse?grecaptcha.getResponse():null}catch(e){a=null}var i=e.find('[name="magic-login-cf-turnstile-response"]').val(),t=e.find("#recaptchaResponse").length;if("invisible"===e.find(".g-recaptcha").data("size")&&!a){const a=e.find(".g-recaptcha").attr("data-recaptcha-widget-id");return a?grecaptcha.execute(a):console.error("Invisible reCAPTCHA widget not found"),!1}if(!a&&!i&&!t){const a=e.data("spam-protection-msg");return 0===e.find(".magic-login-captcha-error").length&&(e.find(".magic-login-captcha-wrapper").append('<div class="magic-login-captcha-error">'+a+"</div>"),setTimeout(function(){e.find(".magic-login-captcha-error").fadeOut().remove()},4e3)),!1}}return!0}function i(){("undefined"!==typeof grecaptcha&&grecaptcha.ready(function(){e(".g-recaptcha-v3").each(function(){var a=e(this),i=a.data("sitekey");grecaptcha.execute(i,{action:"submit"}).then(function(e){a.val(e)})}),e(".g-recaptcha").each(function(){var a=e(this),i=a.attr("data-recaptcha-widget-id");try{if(i)grecaptcha.reset(i);else{var t=a.data("size"),n={sitekey:a.data("sitekey"),size:t,badge:a.data("badge")};a.data("callback")&&(n.callback=magicLoginInvisibleRecaptchaSubmit);var r=grecaptcha.render(a[0],n);a.attr("data-recaptcha-widget-id",r)}}catch(e){e.message.includes("has already been rendered")?grecaptcha.reset(i):console.error("reCAPTCHA rendering failed:",e)}})}),"undefined"!==typeof turnstile&&e(".magic-login-cf-turnstile").length)&&(e("#magic-login-cf-turnstile-container").find('input[name="magic-login-cf-turnstile-response"]').length?turnstile.reset("#magic-login-cf-turnstile-container"):e(".magic-login-cf-turnstile").each(function(){e(this).attr("data-magic-login-turnstile-rendered")||(turnstile.render(this,{sitekey:e(this).data("sitekey"),"response-field-name":"magic-login-cf-turnstile-response"}),e(this).attr("data-magic-login-turnstile-rendered","true"))}))}e(document).on("submit","#magicloginform",function(t){t.preventDefault();const n=e(this);if(!a(n))return!1;n.trigger("magic-login:login:before-submit"),e.post(n.data("ajax-url"),{beforeSend(){const a='<div class="magic-login-spinner-container">'+('<img src="'+n.data("ajax-spinner")+'" alt="'+n.data("ajax-sending-msg")+'" class="magic-login-spinner-image" />')+('<span class="magic-login-spinner-message">'+n.data("ajax-sending-msg")+"</span>")+"</div>";e(".magic-login-form-header").html(a),n.find(".magic-login-submit ").attr("disabled","disabled"),n.trigger("magic-login:login:before-send")},action:"magic_login_ajax_request",data:e("#magicloginform").serialize()},function(a){e(".magic-login-form-header").html(a.data.message),a.data.show_form||n.hide(),a.data.code_form&&(n.parent().replaceWith(a.data.code_form),e(".magic-login-code-form-header").find(".info").html(e(a.data.info).text()).show(),e("#magiclogincodeform").find(".magic-login-code-cancel").hide(),i()),a.data.registration_form&&(n.parent().replaceWith(a.data.registration_form),i()),a.success||i(),n.trigger("magic-login:login:ajax-success",[a])}).fail(function(e){n.trigger("magic-login:login:ajax-fail",[e])}).always(function(){n.find(".magic-login-submit ").attr("disabled",!1),n.trigger("magic-login:login:always")})}),e(document).on("submit","#magiclogincodeform",function(t){t.preventDefault();const n=e(this);if(!a(n))return!1;n.trigger("magic-login:code-login:before-submit"),e.ajax({type:"POST",url:n.data("ajax-url"),data:n.serialize()+"&action=magic_login_code_login",beforeSend:function(){const a='<div class="magic-login-spinner-container">'+('<img src="'+n.data("ajax-spinner")+'" alt="'+n.data("ajax-sending-msg")+'" class="magic-login-spinner-image" />')+('<span class="magic-login-spinner-message">'+n.data("ajax-sending-msg")+"</span>")+"</div>";e(".magic-login-code-form-header").find(".spinner").html(a).show(),n.find(".magic-login-code-submit").attr("disabled","disabled"),n.trigger("magic-login:code-login:before-send"),e(".magic-login-code-form-header").find(".ajax-result").html("").removeClass("success error").hide()},success:function(a){a.success&&a.data&&a.data.message&&e(".magic-login-code-form-header").find(".ajax-result").html(a.data.message).addClass("success").removeClass("error").show(),a.data&&a.data.redirect_to?window.location.href=a.data.redirect_to:(!a.success&&a.data&&a.data.message&&(e(".magic-login-code-form-header").find(".ajax-result").html(a.data.message).addClass("error").removeClass("success").show(),i()),n.trigger("magic-login:code-login:ajax-success",[a]))}}).fail(function(e){n.trigger("magic-login:code-login:ajax-fail",[e])}).always(function(){n.find(".magic-login-code-submit").attr("disabled",!1),n.trigger("magic-login:code-login:always"),n.find(".spinner").hide()})}),e(document).on("submit","#magic_login_registration_form",function(t){t.preventDefault();const n=e(this),r=e("#magic-login-register");var s=n.data("ajax-url"),c=n.serialize();if(!a(n))return!1;n.trigger("magic-login:registration:before-submit"),e.ajax({type:"POST",url:s,data:c,beforeSend:function(){const e='<div class="magic-login-spinner-container">'+('<img src="'+n.data("ajax-spinner")+'" alt="'+n.data("ajax-sending-msg")+'" class="magic-login-spinner-image" />')+('<span class="magic-login-spinner-message">'+n.data("ajax-sending-msg")+"</span>")+"</div>";r.find(".registration_result").html(e),n.find('input[type="submit"]').prop("disabled",!0),n.trigger("magic-login:registration:before-send")},success:function(e){e.success?e.data.redirect_url?(r.find(".registration_result").html('<div class="success">'+e.data.success_message+"</div>"),window.location.href=e.data.redirect_url):(r.find(".registration_result").html('<div class="success">'+e.data+"</div>"),n[0].reset(),n.hide()):(r.find(".registration_result").html('<div class="error">'+e.data+"</div>"),i()),n.trigger("magic-login:registration:ajax-success",[e])}}).fail(function(e){n.trigger("magic-login:registration:ajax-fail",[e])}).always(function(){n.find('input[type="submit"]').prop("disabled",!1),n.trigger("magic-login:registration:always"),i()})}),i()}(jQuery),window.magicLoginInvisibleRecaptchaSubmit=function(e){var a=document.querySelector(".magic-login-captcha-wrapper");if(a){var i=a.closest("form"),t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","g-recaptcha-response"),t.setAttribute("value",e),i.appendChild(t),"undefined"!==typeof jQuery&&jQuery(i).trigger("submit")}}}},a={};function i(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(a,{a:a}),a},i.d=function(e,a){for(var t in a)i.o(a,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},function(){"use strict";i(577)}()}();